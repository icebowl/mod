(function(){
var c="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,g="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},h;if("function"==typeof Object.setPrototypeOf)h=Object.setPrototypeOf;else{var l;a:{var aa={o:!0},m={};try{m.__proto__=aa;l=m.o;break a}catch(a){}l=!1}h=l?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var p=h;
function q(){q=function(){};c.Symbol||(c.Symbol=ba)}var ba=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();
function r(a,b,d){b=void 0===b?null:b;return new Promise(function(e,n){try{var f=document.createElement("script"),k=!1,v;if(b){var C=function(){window[b]?e(null):k?(v="ScriptUtils::loadScript() timed-out waiting for window['"+b+"'] to be exposed",n(v)):setTimeout(C,50)};C();setTimeout(function(){k=!0},5E3)}else"object"==typeof f.onload?(f.onload=e,f.onerror=function(){n("ScriptUtils::loadScript() Error loading script : "+a)}):e(null);d&&f.setAttribute("async",!0);f.src=a;document.getElementsByTagName("head")[0].appendChild(f)}catch(pa){n("ScriptUtils::loadScript() : Error caught loading "+
a)}})}
function ca(a,b,d){b=void 0===b?null:b;d=void 0===d?null:d;if(a){var e="string"===typeof a?[{src:a}]:"SCRIPT"===a.nodeName?[a]:Array.prototype.slice.call(a);var n=document.getElementsByTagName("head")[0]||document.documentElement;for(a=0;e[a];a++){var f=e[a];f.parentNode&&f.parentNode.removeChild(f);f=e[a];var k=document.createElement("script"),v=f.text||f.textContent||f.innerHTML||"";if(f.src)k.src=f.src;else try{k.appendChild(document.createTextNode(v))}catch(C){k.text=v}k.type=f.type?f.type:"";
n.appendChild(k);b&&(k.onload=b);d&&(k.onerror=d);n.removeChild(k)}}};q();var t=Symbol("Feed");q();var u=Symbol("Feed");function w(a){if(a===u)void 0;else throw"Feed is a _feed_: Cannot construct directly. Use 'Feed.instance'";this.m={}}function x(a){a=a.split(".");try{return a.reduce(function(a,d){return a[d]},w.json)}catch(b){return null}}
function y(a){a=void 0===a?w.json:a;for(var b in a)["t","T","true","TRUE"].includes(a[b])?a[b]=!0:["f","F","false","FALSE"].includes(a[b])&&(a[b]=!1),null!==a[b]&&"object"==typeof a[b]&&y(a[b])}c.Object.defineProperties(w,{c:{configurable:!0,enumerable:!0,get:function(){this[t]||(this[t]=new w(u));return this[t]}},json:{configurable:!0,enumerable:!0,get:function(){return w.c.m},set:function(a){w.c.m=a;y()}}});var z=null;function A(){}
function B(a,b){b={count:b.count,f:b.f,g:b.g};var d;if(location.ancestorOrigins){0==location.ancestorOrigins.length?(b.count=0,b.f=window.location.href.split("?")[0]):(b.count=1,b.f=window.location.href.split("?")[0],b.g=location.ancestorOrigins[location.ancestorOrigins.length-1]);var e=Object.assign({},b)}else{null==a&&(a=window,b.f=window.location.href.split("?")[0],b.count=0);try{a.location&&a.location.href&&(d=a.location.href.split("?")[0])&&(b.f=d)}catch(f){}try{var n=a.document.referrer;b.count=
0}catch(f){b.count++}n&&(b.g=n.split("?")[0]);a!=top?e=B(a.parent,b):e=b}void 0;void 0;return e}function D(a){-1<a.indexOf("facebook.com/")&&(a=a.split("?")[0]+"---REDACTED_FOR_PRIVACY---");return a}
c.Object.defineProperties(A,{b:{configurable:!0,enumerable:!0,get:function(){return"Unknown"}},i:{configurable:!0,enumerable:!0,get:function(){z||(z=B(null,{count:0,f:null,g:null}));return z}},g:{configurable:!0,enumerable:!0,get:function(){void 0;try{var a=D(A.i.g.toString())}catch(b){a=A.b}return a}},f:{configurable:!0,enumerable:!0,get:function(){void 0;try{var a=D(A.i.f.toString())}catch(b){a=A.b}return a}},j:{configurable:!0,enumerable:!0,get:function(){if(1<
A.a)var a=A.b;else 1==A.a?a=A.g:0==A.a&&(a=A.f);void 0;return a}},a:{configurable:!0,enumerable:!0,get:function(){var a=-1;try{a=parseInt(A.i.count,10)}catch(b){}return a}}});q();var E=Symbol("Tracking");q();var F=Symbol("Tracking");function G(a){if(a!==F)throw"Tracking is a singleton: Cannot construct directly. Use 'Tracking.instance'";this.a=!1}function da(){void 0;x("thirdPartyFiresImp")?x("adUnitFireTechPixel")&&x("tm_params.impUrl"):(x("tm_params.impUrl")||H("imp"),I("Impression"))}function H(a,b){b=new J(a,void 0===b?"":b);K(b.a);"imp"===a&&(G.c.a=!0)}
function I(a){var b=x("pixels");b.filter(function(b){return b.trigger.toLowerCase()===a.toLowerCase()}).forEach(function(a){switch(a.type.toLowerCase()){case "javascript":r(a.detail,null,!0);break;default:K(a.detail)}});w.json.pixels=b.filter(function(b){return b.trigger.toLowerCase()!==a.toLowerCase()})}function K(a){(new Image).src=a}function L(){var a="",b=x("expk"),d=x("sgrpk");b&&(a+="&expk="+b);d&&(a+="&sgrpk="+d);return a}
c.Object.defineProperties(G,{c:{configurable:!0,enumerable:!0,get:function(){this[E]||(this[E]=new G(F));return this[E]}}});
function M(a){void 0;if(a.data.sessId===x("session.sessId")){var b="";"imp"===a.data.pixelTrigger&&(b="Impression");"ct"===a.data.pixelTrigger&&(b="ClickThrough");switch(a.data.command){case "pixelRequestedByCmp":void 0;"imp"===a.data.pixelTrigger&&(G.c.a=!0);I(b);break;case "tmRequestPixels":void 0;
if("ct"===a.data.pixelTrigger&&a.data.landingPage){var d=a.data.landingPage;a=a.data.statsParams;a=new J("ct",void 0===a?"":a);d?window.open(a.a+"&redir="+encodeURIComponent(d)):(new Image).src=a.a}else H(a.data.pixelTrigger,a.data.statsParams);I(b);break;default:void 0}}}
function ea(a){var b,d=x("statsImpFailSafeTimeout"),e="number"===typeof d?d:7E3;setTimeout(function(){G.c.a||(void 0,b=a.substr(0,8).includes("<script")?"js":a.substr(0,8).includes("<iframe")?"iframe":"unrecognized",H("imp","&failSafeImp=t&tagType="+b+"&waitTime="+e),I("Impression"))},e)}
function fa(a){var b={imp:"impression",ct:"clickthrough",vimp:"vimp"};this.b=w.json.statsPixels.filter(function(d){return"stats"===d.type.toLowerCase()&&d.trigger.toLowerCase()===b[a]})[0].detail;this.b+="&burl="+encodeURIComponent(A.f)+"&rurl="+encodeURIComponent(A.g)+"&astv="+x("astv")+"&apv=20181018-23";switch(a){case "imp":this.b+="&vw="+document.body.clientWidth.toString()+"&vh="+document.body.clientHeight.toString();break;case "vimp":this.b+="&w="+x("width")+"&h="+x("height")+"&pw="+x("width")+
"&ph="+x("height")+"&vw="+document.body.clientWidth.toString()+"&vh="+document.body.clientHeight.toString();break;case "reject":this.b+="&p1="+A.j+"&p2="+x("cd.fbd.pd")+"&wd="+A.a}this.b+=L()}function J(a,b){b=void 0===b?"":b;w.json.hasOwnProperty("statsPixels")?this.b=new fa(a):this.b=new N(a);this.b.b+=b;this.a=this.b.b}c.Object.defineProperties(J,{a:{configurable:!0,enumerable:!0,get:function(){return(new J("vimp")).a}}});
function N(a){var b=this;this.a={};this.i=function(){b.a.sessId=x("session.sessId");b.a.paId=x("paId");b.a.psId=x("psId");b.a.page_url=encodeURIComponent(String(x("page_url")));b.a.burl=encodeURIComponent(String(A.f));b.a.rurl=encodeURIComponent(String(A.g));b.a.did=x("did");b.a.didtype=x("didtype");b.a.expaId=x("expaId");b.a.env=x("env");b.a.conn=x("conn");b.a.moatenabled=x("moatEnabled");b.a.moatfees=x("moatfees");b.a.astv=x("astv");b.a.apv="20181018-23";b.a.rt="HTML5";b.a.vinst="t";b.a.s=x("s")};
this.u=function(){b.a.vw=document.body.clientWidth.toString();b.a.vh=document.body.clientHeight.toString();b.a.inc="";b.a.adEngImpQP=x("adEngImpQP")};this.B=function(){b.a.vinst="";b.a.dur="";b.a.inc="";b.a.pw="";b.a.ph="";b.a.adEngViewQP=x("adEngViewQP")};this.j=function(){b.a.bi=x("bi");b.a.adEngClickThruQP=x("adEngClickThruQP")};this.C=function(){b.a.w=x("width");b.a.h=x("height");b.a.vinst="t";b.a.pw=x("width");b.a.ph=x("height");b.a.vw=document.body.clientWidth.toString();b.a.vh=document.body.clientHeight.toString()};
this.v=function(){b.a.bi=x("bi");b.a.price=x("price")};this.A=function(){b.a.p1=A.j;b.a.p2=x("cd.fbd.pd");b.a.msg="Rejected%20Ad";b.a.ssb="true";b.a.wd=A.a};this.i();switch(a){case "imp":this.u();break;case "view":this.B();break;case "ct":this.j();break;case "vimp":this.C();break;case "reject":this.A()}a===x("pt")&&this.v();this.b="https://"+x("statsBaseURL")+"/"+a+this.D+L()}
c.Object.defineProperties(N.prototype,{D:{configurable:!0,enumerable:!0,get:function(){var a="",b="?",d;for(d in this.a)if(0===this.a[d]||this.a[d])a+=b+d+"="+this.a[d],b="&";return a}}});q();var O=Symbol("Viewability");q();var P=Symbol("Viewability");function Q(a){if(a!==P)throw"Viewability is a singleton: Cannot construct directly. Use 'Viewability.instance'";}function ha(){return new Promise(function(a,b){"https://playtime.tubemogul.com/ud/prod/pullins/viewability-32cb90.js".startsWith("{{")&&"https://playtime.tubemogul.com/ud/prod/pullins/viewability-32cb90.js".endsWith("}}")?ia(a):ja(a,b)})}
function ia(a){var b=document.createElement("script");b.type="module";b.src="../ace/src/com/adobe/viewability/AceViewability.js";ca(b,R.bind(null,a),function(){K(J.a+"&vwbl=err&reason=scriptload");a("Viewability::Load Failed!")})}function ja(a,b){r("https://playtime.tubemogul.com/ud/prod/pullins/viewability-32cb90.js","AceViewability").then(R.bind(null,a,b)).catch(function(){K(J.a+"&vwbl=err&reason=scriptload");a("Viewability::load : External AceViewability module failed to load")})}
function R(a){try{var b={targetElement:Q.c.a,video:Q.c.b,vimpPixelBase:J.a,viewabilityStandard:"MRC"},d=new window.AceViewability;d.init(b).then(d.start.bind(null)).then(a)}catch(e){K(J.a+"&vwbl=err&reason=init"),a("Viewability Unmeasurable")}}c.Object.defineProperties(Q,{c:{configurable:!0,enumerable:!0,get:function(){this[O]||(this[O]=new Q(P));return this[O]}}});function S(){}
function ka(){var a=["display_code"];Q.c.b=!1;Q.c.a=document.createElement("div");Q.c.a.id="tm_viewability_"+w.json.session.sessId;document.body.appendChild(Q.c.a);var b=Q.c.a;var d=w.json.adParts[0].assets.find(function(b){return a.includes(b.type)&&!!b.detail});switch(d.hasOwnProperty("mimeType")&&"string"===typeof d.mimeType?d.mimeType.split("/")[0]:""){case "text":var e=document.createElement("iframe");e.id="tm_ad_frame_"+w.json.session.sessId;break;case "image":e=document.createElement("img");break;
default:return null}e.style.cssText=S.a;b.appendChild(e);return{l:d,element:e}}
function la(){var a=ka();w.json.thirdPartyFiresImp&&(window.proxiedAdMessageHandler=M,void 0,window.addEventListener("message",M,!1),ea(a.l.detail));var b=a.element.contentDocument||a.element.contentWindow.document;a=w.json.thirdPartyFiresImp?"<script>"+("var $tmSessionId = '"+String(w.json.session.sessId)+"';\n        \n        var pixelRequestedbyCmp = pixelRequestedByCmp;\n        \n        window['tmStatsPixels'] = {\n            'imp': '"+(new J("imp")).a+
"',\n            'ct': '"+(new J("ct")).a+"'\n        };\n        function pixelRequestedByCmp( pixelTrigger ) {\n            var data = {\n                sessId: $tmSessionId,\n                pixelTrigger: pixelTrigger,\n                command:'pixelRequestedByCmp'\n            };\n\n            if ( typeof window.parent.proxiedAdMessageHandler === 'function' ) {\n                window.parent.proxiedAdMessageHandler( { data: data } );\n            } else {\n                window.parent.postMessage( data, '*' );\n            }\n        };\n        function tmRequestPixels( pixelTrigger, statsParams, landingPage ) {\n            var data = {\n                'sessId': $tmSessionId,\n                'statsParams': statsParams,\n                'landingPage': landingPage,\n                'command': 'tmRequestPixels',\n                'pixelTrigger': pixelTrigger\n            };\n\n            if ( typeof window.parent.proxiedAdMessageHandler === 'function' ) {\n                window.parent.proxiedAdMessageHandler( { data: data } );\n            } else {\n                window.parent.postMessage( data, '*' );\n            }\n        };\n        function receiveMessage( event ) {\n            var data = event.data;\n            if ( data.sessId !== $tmSessionId ) return;\n            switch ( data.command ) {\n                case 'getUrls':\n                    event.source.postMessage({\n                        'sessId': $tmSessionId,\n                        'tm_stats_urls': tmStatsPixels\n                    }, event.origin);\n                    break;\n                case 'pixelRequestedByCmp':\n                    pixelRequestedByCmp( data.pixelTrigger );\n                    break;\n                case 'tmRequestPixels':\n                    tmRequestPixels( data.pixelTrigger, data.extraParams, data.landingPage );\n                    break;\n                default:\n                    break;\n            }\n        }\n        window.addEventListener(\"message\", receiveMessage, false);\x3c/script>")+
a.l.detail.replace("${TM_SESSION_ID}",x("session.sessId")):a.l.detail;b.open();b.write("<style>body{margin:0; overflow:hidden}</style>"+a);b.close();return Promise.resolve()}c.Object.defineProperties(S,{a:{configurable:!0,enumerable:!0,get:function(){var a=x("width"),b=x("height");return"width:"+a+"px; height:"+b+"px; margins:0px; border:none; padding:none; overflow:hidden; cursor:pointer;"}}});function T(a){for(var b=[],d=0;d<arguments.length;++d)b[d]=arguments[d];b.unshift("ERR : ");console.log.apply(null,b)};function ma(){return x("iasMon")?new Promise(function(a){var b="https://pixel.adsafeprotected.com/jload?anId="+x("iasAnId")+"&campId="+x("tmCampaignIdNum")+"&pubId="+x("tmSiteIdNum")+"&placementId="+x("tmPlacementIdNum")+"&chanId="+x("tmFeedIdNum")+"&adsafe_par&bidurl="+x("page_url");r(b).then(a).catch(a)}):Promise.resolve(null)};function na(){return x("moatEnabled")?new Promise(function(a){var b="https://z.moatads.com/tubemogul154237275611/moatad.js#moatClientLevel1="+x("tmCampaignIdNum")+"&moatClientLevel2="+x("tmPlacementIdNum")+"&moatClientLevel3="+x("tmFeedIdNum")+"&moatClientLevel4="+x("tmAdIdNum")+"&moatClientSlicer1="+x("tmSiteIdNum")+"&moatClientSlicer2="+x("page_url")+"&zMoatSEID="+x("sellerId");r(b).then(a).catch(a)}):Promise.resolve(null)};function U(){}
function oa(){if(x("bt")){var a=document.body,b=w.json.width,d=w.json.height,e=document.createElement("div");e.id="TM_TRUSTE_GUIDE";e.style.cssText="zIndex:99; position:absolute; left: 0px; top: 0px; width:"+b+"px; height:"+d+"px; pointer-events:none";a.appendChild(e);b=document.createElement("span");b.id="te-clearads-js-efrontier01cont1";b.style.cssText="zIndex";a.appendChild(b);navigator.mimeTypes["application/x-shockwave-flash"]=null;navigator.plugins["Shockwave Flash"]=null;r(U.a)}return Promise.resolve(null)}
c.Object.defineProperties(U,{a:{configurable:!0,enumerable:!0,get:function(){return"https://choices.truste.com/ca?pid=efrontier01&aid=efrontier01&cid=0911ef120x240&c=efrontier01cont1&w="+w.json.width+("&h="+w.json.height)+"&plc=tl&js=10"}}});function V(){return[Object.is,Object.assign,Object.entries,Object.values,Object.getOwnPropertyDescriptors,Array.from,Array.of,Array.prototype.includes,Array.prototype.find,Array.prototype.keys,Array.prototype.findIndex,String.prototype.includes,String.prototype.endsWith,String.prototype.startsWith,window.Promise].reduce(function(a,b){return a&&b},!0)}0>Math.random()&&window.postMessage(window.Promise.toString()&&V(),"*");function W(a){if(window.ace_using_browser_polyfill)if(V())a();else{var b=setTimeout(function(){clearTimeout(b);clearInterval(d);a()},6E3);var d=setInterval(function(){V()&&(clearInterval(d),a())},50)}else a()};void 0;function X(){W.call(this,function(){void 0;try{w.json=Object.assign({},{tm_params:window.tm_params},window.TM_array[window.tm_auction_id].Feed);y();var a=Promise.resolve(null)}catch(b){a=Promise.reject("DOMFeed::fetch Error")}a.then(da).then(la).then(ha).then(ma).then(na).then(oa).catch(function(a){T("'bootstrap_displayproxy' : Error in bootstrap promise chain: "+a);a.stack&&T(a.stack)})})}X.prototype=g(W.prototype);
X.prototype.constructor=X;if(p)p(X,W);else for(var Y in W)if("prototype"!=Y)if(Object.defineProperties){var Z=Object.getOwnPropertyDescriptor(W,Y);Z&&Object.defineProperty(X,Y,Z)}else X[Y]=W[Y];X.a=W.prototype;new X;
}).call(this)
